{% assign number_help = context.params.number | plus: 0 %}
{% liquid
  graphql films = 'film/search', number: number_help
%}

<form action="/index" method="get">
  <label for="number">See the top: </label>
  <input type="number" name="number" id="number">
  <button type="submit">List</button>
</form>

{% for item in films.records.results %}
    <div class="card">
      <div class="container">
        <img src="{{ item.cover }}" style="width: 275px; height: 400px">
        <h4><b>Title: {{ item.title }}</b></h4>
        <p>User: {{ item.username }}</p>
        <p>Age: {{ item.age }}</p>
        <p>{{ item.comment }}</p>
        <form action="/film/delete" method="post">
            <input type="hidden" name="id" value="{{ item.id }}">
            <button type="submit">Delete</button>
        </form>
      </div>
    </div>
{% endfor %}

{% if films.records.total_entries == 0 %}
  <div>There are no films in the list.</div>
{% endif %}

<div class="form-container">
  <form action="/film/create" method="post">

    <label for="title">Title: </label>
    <input type="text" id="title" name="title" placeholder="Title of the movie" required>

    <label for="username">Username: </label>
    <input type="text" id="username" name="username" placeholder="Obi-Van" required>

    <label for="age">Age: </label>
    <input type="number" id="age" name="age" required></br></br>

    <label for="comment">Comment: </label>
    <textarea id="comment" name="comment" placeholder="Write something.." style="height: 150px" required></textarea>

	  <label for="cover">Cover image url: </label>
    <input type="text" id="cover" name="cover" required></br></br>

    <input type="submit" value="Add comment">

  </form>
</div>